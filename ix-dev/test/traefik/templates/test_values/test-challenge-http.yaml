#
# This Test Template is made for using on a Truenas system.
# After rendering a docker-compose file using this template. Pleas test it on you Truenas CE machine using custom yaml apps.
#

#Simulate Application name field. Please rename to match name of testing app that is set when using custom app yaml
release_name: traefik

#set resource limits
resources:
  limits:
    cpus: 2.0
    memory: 4096

network:
  enable_advanced_settings: false
# WEB UI
  webui_enable: true
  webui_secure: false
  web_port:
    bind_mode: published
    port_number: 8080
# HTTP Proxy
  http_enable: true
  http_port:
    bind_mode: published
    port_number: 8880
# HTTPS Proxy
  https_enable: true
  https_port:
    bind_mode: published
    port_number: 8443
  additional_ports: []
#HTTPS Redirect
  https_redirection: true
#Challenges
  http_challenge:
    enabled: true
    email: yourown@email.com
  tls_challenge:
    enabled: false
  dns_challenge:
    enabled: false
#Traefik Container Name
  traefik_container_name: ix-traefik-traefik-1

ix_volumes:
  certs: /mnt/.ix-apps/app_mounts/traefik/certs
  config: /mnt/.ix-apps/app_mounts/traefik/config

storage:
#Docker Socket access
  enable_docker_socket: true
#Letsencrypt volume
  certs:
    type: ix_volume
    ix_volume_config:
      dataset_name: certs
      create_host_path: true
  config:
    type: ix_volume
    ix_volume_config:
      dataset_name: config
      create_host_path: true